import{j as e}from"./index.Cg71Lysi.js";import{u as l}from"./index.Ctr3S7GU.js";import{$ as a,u as n,r as x,b as f,c as u}from"./cart.DagnSXBD.js";import{B as o}from"./Button.BQcI447G.js";import{r as i}from"./index.WFquGv8Z.js";import{X as h}from"./x.h9WrMCji.js";import{S as p}from"./shopping-bag.DHgMLe65.js";import{M as b,P as j}from"./plus.CO4mEePD.js";import{T as y}from"./trash-2.BxMnLcV1.js";import"./index.CASokwIO.js";import"./createLucideIcon.H8DUYhgo.js";function T(){const t=l(a),c=l(f),d=l(u),r=Object.values(c);return i.useEffect(()=>{const s=m=>{m.key==="Escape"&&a.set(!1)};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[]),i.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t?e.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm animate-fade-in",onClick:()=>a.set(!1)}),e.jsxs("div",{className:"relative w-full max-w-md bg-white h-full shadow-2xl animate-slide-in-right flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-boba-50",children:[e.jsx("h2",{className:"text-xl font-display font-bold text-boba-primary-dark",children:"Your Cart"}),e.jsx("button",{onClick:()=>a.set(!1),className:"p-2 hover:bg-black/5 rounded-full transition-colors",children:e.jsx(h,{className:"h-6 w-6 text-boba-primary"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:r.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-4 text-gray-500",children:[e.jsx(p,{className:"h-16 w-16 opacity-20"}),e.jsx("p",{children:"Your cart is empty."}),e.jsx(o,{variant:"secondary",onClick:()=>a.set(!1),children:"Continue Shopping"})]}):r.map(s=>e.jsxs("div",{className:"flex gap-4 p-3 rounded-lg border border-gray-100 hover:border-gray-200 transition-colors",children:[e.jsx("div",{className:"h-20 w-20 bg-gray-100 rounded-md overflow-hidden flex-shrink-0",children:e.jsx("img",{src:s.image,alt:s.name,className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 line-clamp-1",children:s.name}),e.jsxs("p",{className:"text-sm text-boba-primary font-bold",children:["$",s.price.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center border rounded-md",children:[e.jsx("button",{onClick:()=>n(s.variantId,s.quantity-1),className:"p-1 hover:bg-gray-100",disabled:s.quantity<=1,children:e.jsx(b,{className:"h-3 w-3"})}),e.jsx("span",{className:"px-2 text-sm font-medium",children:s.quantity}),e.jsx("button",{onClick:()=>n(s.variantId,s.quantity+1),className:"p-1 hover:bg-gray-100",children:e.jsx(j,{className:"h-3 w-3"})})]}),e.jsx("button",{onClick:()=>x(s.variantId),className:"text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(y,{className:"h-4 w-4"})})]})]})]},s.variantId))}),r.length>0&&e.jsxs("div",{className:"p-4 border-t bg-gray-50 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-lg font-medium",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",d.toFixed(2)]})]}),e.jsx("a",{href:"/checkout",className:"block w-full",children:e.jsx(o,{className:"w-full",size:"lg",children:"Checkout"})})]})]})]}):null}export{T as CartDrawer};
