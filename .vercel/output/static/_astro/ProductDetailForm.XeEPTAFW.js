import{j as s,c}from"./index.Cg71Lysi.js";import{r as o}from"./index.WFquGv8Z.js";import{M as m,P as x}from"./plus.CO4mEePD.js";import{AddToCartButton as p}from"./AddToCartButton.DIHmNFwq.js";import{d as f}from"./cart.DagnSXBD.js";import{a as u}from"./ui.Bk96mPu1.js";import{B as h}from"./Button.BQcI447G.js";import"./createLucideIcon.H8DUYhgo.js";import"./shopping-bag.DHgMLe65.js";import"./index.CASokwIO.js";function g({variants:e,selectedVariant:a,onSelect:r}){return!e||e.length===0?null:s.jsxs("div",{className:"space-y-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Select Option:"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:e.map(t=>{const i=a===t.id,n=t.stock<=0;return s.jsxs("button",{onClick:()=>!n&&r(t.id),disabled:n,className:c("px-4 py-2 rounded-lg border-2 text-sm font-medium transition-all relative overflow-hidden",i?"border-boba-primary text-boba-primary bg-boba-cream/10":"border-gray-200 text-gray-700 hover:border-gray-300",n&&"opacity-50 cursor-not-allowed bg-gray-50 text-gray-400 decoration-slice line-through"),children:[t.name,t.priceOffset&&t.priceOffset>0&&s.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["(+$",t.priceOffset.toFixed(2),")"]})]},t.id)})})]})}function b({value:e,onChange:a,min:r=1,max:t=99}){return s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg w-fit",children:[s.jsx("button",{onClick:()=>a(Math.max(r,e-1)),className:"p-3 hover:bg-gray-100 rounded-l-lg transition-colors disabled:opacity-50",disabled:e<=r,"aria-label":"Decrease quantity",children:s.jsx(m,{className:"h-4 w-4"})}),s.jsx("span",{className:"w-12 text-center font-medium",children:e}),s.jsx("button",{onClick:()=>a(Math.min(t,e+1)),className:"p-3 hover:bg-gray-100 rounded-r-lg transition-colors disabled:opacity-50",disabled:e>=t,"aria-label":"Increase quantity",children:s.jsx(x,{className:"h-4 w-4"})})]})}function I({product:e}){const[a,r]=o.useState(e.variants?.[0]?.id||null),[t,i]=o.useState(1),n={...e,price:e.price+(e.variants?.find(l=>l.id===a)?.priceOffset||0),variantId:a||e.id},d={...e,id:e.id,variantId:a||e.id,price:n.price};return s.jsxs("div",{className:"space-y-6",children:[e.variants&&e.variants.length>0&&s.jsx(g,{variants:e.variants,selectedVariant:a,onSelect:r}),s.jsxs("div",{className:"flex items-end gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Quantity"}),s.jsx(b,{value:t,onChange:i})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(p,{product:d}),s.jsx(y,{product:d,quantity:t})]})]})]})}function y({product:e,quantity:a}){const[r,t]=o.useState(!1),i=()=>{t(!0),setTimeout(()=>{f(e,a),u({type:"success",message:`Added ${a}x ${e.name} to cart`,duration:3e3}),t(!1)},400)};return s.jsxs(h,{onClick:i,isLoading:r,className:"w-full h-[50px] text-lg",children:["Add to Cart - $",(e.price*a).toFixed(2)]})}export{I as ProductDetailForm};
